<Window x:Class="MongoDbBooks.Views.UsersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="clr-namespace:Xceed.Wpf.Toolkit;assembly=Xceed.Wpf.Toolkit" 
        xmlns:vmu="clr-namespace:MongoDbBooks.ViewModels.Utilities"
        xmlns:converters="clr-namespace:MongoDbBooks.Converters"
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="Manage Users"
        d:DesignHeight="600" d:DesignWidth="800">
    <Grid>

        <TabControl>
            <TabItem Header="Switch User">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Content="Name"/>

                    <xctk:WatermarkTextBox  Grid.Row="0" Grid.Column="1" 
                             TextWrapping="NoWrap" 
                             Text="{Binding Path=SwitchUserName, Mode=TwoWay}"  MinWidth="150"
                                 HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <xctk:WatermarkTextBox.Watermark>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="My name" Margin="4,0,0,0" />
                            </StackPanel>
                        </xctk:WatermarkTextBox.Watermark>
                    </xctk:WatermarkTextBox>

                    <Label Grid.Row="1" Grid.Column="0" Content="Password"/>

                    <PasswordBox PasswordChar="*" Grid.Row="1" Grid.Column="1" 
                     MinWidth="150"
                     vmu:PasswordHelper.Attach="True" 
                     vmu:PasswordHelper.Password="{Binding Path=SwitchUserPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     HorizontalAlignment="Stretch"  VerticalAlignment="Center">
                        <PasswordBox.InputBindings>
                            <KeyBinding Command="{Binding Path=SwitchUseCommand}" Key="Enter"></KeyBinding>
                        </PasswordBox.InputBindings>
                    </PasswordBox>

                    <Button Grid.Row="3" Grid.Column="1" Height="22"
                            Content="Login" Command="{Binding Path=SwitchUseCommand}" />
                </Grid>

            </TabItem>
            <TabItem Header="Change Details">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Content="Name"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Path=ChangeDetailsName}" 
                             IsReadOnly="True" Height="22"/>
                    <Image Grid.Row="0" Grid.Column="2" Grid.RowSpan="4" 
                             MinHeight="100" MinWidth="100"
                             HorizontalAlignment="Left" VerticalAlignment="Center" 
                             Source="{Binding ChangeDetailsImageSource}" />

                    <Label Grid.Row="1" Grid.Column="0" Content="E-Mail"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Path=ChangeDetailsEmail}" Height="22"/>


                    <Label Grid.Row="2" Grid.Column="0" Content="New Password"/>
                    <PasswordBox PasswordChar="*" Grid.Row="2" Grid.Column="1"  Height="22"
                            MinWidth="150"
                            vmu:PasswordHelper.Attach="True" 
                            vmu:PasswordHelper.Password="{Binding Path=ChangeDetailsNewPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            HorizontalAlignment="Stretch"  VerticalAlignment="Center">
                    </PasswordBox>



                    <Button Grid.Row="4" Grid.Column="2" Height="22" Margin="2"
                            Content="Select Image" Command="{Binding Path=ChangeUserImageCommand}" />

                    <Button Grid.Row="5" Grid.Column="0" Height="22" Margin="2"
                            Content="Change Details" Command="{Binding Path=ChangeUserDetailsCommand}" />                </Grid>

            </TabItem>
            <TabItem Header="Add User">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Content="Name"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Path=AddUserName}" 
                             Height="22"/>
                    <Image Grid.Row="0" Grid.Column="3" Grid.RowSpan="4" 
                             MinHeight="100" MinWidth="100"
                             HorizontalAlignment="Left" VerticalAlignment="Center" 
                             Source="{Binding AddUserImageSource}" />

                    <Label Grid.Row="1" Grid.Column="0" Content="E-Mail"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Path=AddUserEmail}" Height="22"/>

                    <Label Grid.Row="2" Grid.Column="0" Content="Password"/>
                    <PasswordBox PasswordChar="*" Grid.Row="2" Grid.Column="1"  Height="22"
                            MinWidth="150"
                            vmu:PasswordHelper.Attach="True" 
                            vmu:PasswordHelper.Password="{Binding Path=AddUserPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            HorizontalAlignment="Stretch"  VerticalAlignment="Center">
                    </PasswordBox>

                    <Label Grid.Row="3" Grid.Column="0" Content="Description"/>
                    <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding Path=AddUserDescription}" Height="22"/>

                    <Button Grid.Row="4" Grid.Column="3" Height="22" Margin="2"
                            Content="Select Image" Command="{Binding Path=AddUserSelectImageCommand}" />

                    <Button Grid.Row="6" Grid.Column="0" Height="22" Margin="2"
                            Content="Add User" Command="{Binding Path=AddUserCommand}" 
                            IsEnabled="{Binding Path=CanAddUser}"/>
                </Grid>


            </TabItem>
            <TabItem Header="Delete User">

            </TabItem>
            <TabItem Header="Admin">

                <StackPanel Orientation="Horizontal">
                    <Button Content="Set User Name" 
                    HorizontalAlignment="Left" Margin="10,10,0,0"
                    VerticalAlignment="Top" Width="125" Height="22"
                    Command="{Binding Path=AddNewUserCommand}"/>
                    <Label Content="Here is some text:"></Label>
                    <TextBlock Width="420" Text="{Binding Path=UserName}"/>

                    <Label Content="And Here it ends:"></Label>
                </StackPanel>
                
            </TabItem>

        </TabControl>
        
    </Grid>
</Window>
